---
version: 0.0.12

id: c0001
name: Uplink to provider lab
metadata:
  type: remote connectivity
  environment: test
connections:
  0:
    type: ipsec
    description: Provider connection
    # Optional
    metadata:
      primary: true
    # Optional: IPv4 interface address for tunnel NAT64
    # interface_ip: 172.16.31.1/24
    connection:
      remote_peer_ip: 192.0.2.5
      # Optional: If not set, defaults to remote_peer_ip
      # remote_id: 192.168.128.5
      # Optional: defaults to 2
      ike_version: 2
      # Optional: defaults to aes256gcm16-prfsha384-ecp384
      ike_proposal: aes128gcm16-prfsha384-ecp384
      # Optional: The IKE lifetime in seconds
      ike_lifetime: 86400
      # Optional: defaults to aes256gcm16-prfsha384-ecp384
      ipsec_proposal: aes128gcm16-prfsha384-ecp384
      # Optional: The IPsec lifetime in seconds
      ipsec_lifetime: 3600
      # optional, defaults to start. Start means inititate and respond, none means respond only.
      initiation: start
      psk: secretpassword
      # Optional: mutually exclusive with traffic selectors
      # mutually exclusive with traffic selectors
      # does not work in hub mode
      routes:
      - 172.16.31.0/24
      # - 172.31.0.0/16
      # Optional: mutually exclusive with routes.
      # traffic_selectors:  # mutually exclusive with routes.
      #   local:
      #   - 10.20.0.0/16
      #   - 10.21.0.0/16
      #   remote:
      #   - 172.30.0.0/16
      #   - 172.31.0.0/16
...
