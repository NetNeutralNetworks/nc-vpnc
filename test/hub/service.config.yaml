---
version: 0.0.12

# Runtime mode
# Defines if the service is running in endpoint or hub mode
mode: hub

# Network configuration
network:
  untrust:
    interface: ens4
    addresses:
    - 192.0.2.5/24
    - 2001:DB8::5/64
    routes:
    - to: default
      via: 192.0.2.1
  root:
    interface: ens3
    addresses:
    - 192.168.0.153/20
    - 2001:DB8:1::153/64
    routes:
    - to: default
      via: 192.168.0.1

# VPN CONFIG
# Optional: IKE local identifier for VPNs
# local_id: 192.0.2.5

# Uplink VPNs
connections:
  0:
    type: ipsec # ipsec | local
    description: Uplink to provider
    # Optional
    metadata: {}
    # Optional: IPv6 interface address for tunnel/BGP peering between this host and the provider
    # client VPN host. Not required if the remote is capable of BGP unnumbered.
    interface_ip: fd33:2:f::/127
    connection:
      # Optional: If not set, defaults to the default service local_id value.
      # local_id: 192.0.2.5
      # remote_peer_ip: 192.0.2.3
      remote_peer_ip: 2001:DB8::3
      # Optional: If not set, defaults to remote_peer_ip
      # remote_id: 192.0.2.3
      # Optional: defaults to 2
      # ike_version: 2
      # Optional: defaults to aes256gcm16-prfsha384-ecp384
      # ike_proposal: aes256gcm16-prfsha384-ecp384
      # Optional: The IKE lifetime in seconds
      ike_lifetime: 300
      # Optional: defaults to aes256gcm16-prfsha384-ecp384
      # ipsec_proposal: aes256gcm16-prfsha384-ecp384
      # Optional: The IPsec lifetime in seconds
      ipsec_lifetime: 90
      # Optional, defaults to start. Start means inititate and respond, none means respond only.
      # initiation: start
      psk: ook een wachtwoord ofzo
      # Optional: mutually exclusive with traffic selectors
      # does not work in hub mode, defaults to 0.0.0.0/0,::/0
      # routes: []
      # Optional: mutually exclusive with routes.
      # traffic_selectors:
      #   local: []
      #   remote: []
    # Customer side BGP ASN
    asn: 4255786769
    # Optional, lower is more preferred uplink for receiving traffic, defaults to 0, max is 9
    # priority: 0

# OVERLAY CONFIG
# IPv6 prefix for provider client subnets initiating administration traffic to customers.
prefix_uplink: "fd33::/16"
# IP prefix for downlinks. Must be a /16, will get subnetted into /24s per downlink tunnel.
# The prefix is the same for all customers. Customers will see traffic originating from this prefix.
prefix_downlink_v4: "100.99.0.0/16"
# IPv6 prefix for downlinks. Must be a /32. Will be subnetted into /96s per downlink per tunnel.
# This is the prefix by which each customer will be uniquely identified.
# Customer 0001 will use fdcc:0:c:1::/64 and customer with identifier 0002 will use fdcc:0:c:2::/64.
prefix_downlink_v6: "fdcc::/32"

## BGP config
# ASN must be between 4.200.000.000 and 4.294.967.294 inclusive.
bgp:
  asn: 4255786777
  router_id: 1.1.1.2
...
